<div class="dialog-container">
  <h2 mat-dialog-title>Editar Usuario</h2>
  <form [formGroup]="form" (ngSubmit)="submit()">
    <mat-dialog-content>
      <div class="form-field">
        <label for="name">Nombre</label>
        <input id="name" type="text" formControlName="name" class="form-control">
        <div class="error-message" *ngIf="form.get('name')?.errors?.['required'] && form.get('name')?.touched">
          El nombre es requerido
        </div>
      </div>

      <div class="form-field">
        <label for="email">Correo electrónico</label>
        <input id="email" type="email" formControlName="email" class="form-control">
        <div class="error-message" *ngIf="form.get('email')?.errors?.['required'] && form.get('email')?.touched">
          El correo es requerido
        </div>
        <div class="error-message" *ngIf="form.get('email')?.errors?.['email'] && form.get('email')?.touched">
          El correo no es válido
        </div>
      </div>

      <div class="form-field">
        <label for="role">Rol</label>
        <select id="role" formControlName="role" class="form-control">
          <option *ngFor="let role of roles" [value]="role">
            {{ role === 'admin' ? 'Administrador' : role === 'supervisor' ? 'Supervisor' : 'Operario' }}
          </option>
        </select>
      </div>

      <div class="form-field">
        <label for="status">Estado</label>
        <select id="status" formControlName="status" class="form-control">
          <option *ngFor="let status of statuses" [value]="status">
            {{ status === 'active' ? 'Activo' : 'Inactivo' }}
          </option>
        </select>
      </div>
    </mat-dialog-content>

    <mat-dialog-actions align="end">
      <button type="button" class="btn btn-secondary" (click)="cancel()">
        Cancelar
      </button>
      <button type="submit" class="btn btn-primary" [disabled]="!form.valid">
        Guardar
      </button>
    </mat-dialog-actions>
  </form>
</div> 