<div class="user-management-container">
  <div class="header">
    <h2>Gestión de Usuarios</h2>
    <div class="filters">
      <select [(ngModel)]="selectedRole" (change)="filterUsers()">
        <option value="">Todos los roles</option>
        <option *ngFor="let role of roles" [value]="role">{{ role }}</option>
      </select>
      <input type="text" placeholder="Buscar por nombre o email" [(ngModel)]="searchTerm" (input)="filterUsers()">
    </div>
  </div>

  <div class="table-wrapper">
    <table class="user-table">
      <thead>
      <tr>
        <th>Nombre</th>
        <th>Email</th>
        <th>Rol</th>
        <th>Estado</th>
        <th>Acciones</th>
      </tr>
      </thead>
      <tbody>
      <tr *ngFor="let user of paginatedUsers">
        <td>{{ user.nombre }}</td>
        <td>{{ user.email }}</td>
        <td>{{ user.rol }}</td>
        <td>
            <span class="status" [class.active]="user.estado === 'activo'" [class.inactive]="user.estado !== 'activo'">
              {{ user.estado }}
            </span>
        </td>
        <td>
          <button class="btn edit" (click)="editUser(user)">✏️</button>
          <button class="btn toggle" (click)="toggleEstado(user)">
            {{ user.estado === 'activo' ? '🔒' : '🔓' }}
          </button>
        </td>
      </tr>
      </tbody>
    </table>
  </div>

  <div class="pagination">
    <button (click)="prevPage()" [disabled]="currentPage === 1">← Anterior</button>
    <span>Página {{ currentPage }} de {{ totalPages }}</span>
    <button (click)="nextPage()" [disabled]="currentPage === totalPages">Siguiente →</button>
  </div>

  <div class="footer">
    <button class="create-btn" (click)="openCreateModal()">➕ Crear Usuario</button>
  </div>
</div>
